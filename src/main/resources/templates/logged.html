<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Logged</title>
    <link rel="stylesheet" href="/style.css">
    <style>
        #dialog {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            z-index: 1000;
        }
    </style>
</head>
<body>

<h2>Bine ai venit, <span th:text="${username}">[Missing Username]</span>!</h2>

<p>Prenume: <span th:text="${prenume}">[Missing Prenume]</span></p>
<p>Nume: <span th:text="${nume}">[Missing Nume]</span></p>
<p>Email: <span th:text="${email}">[Missing Email]</span></p>
<p>Data de naștere: <span th:text="${zinastere + '/' + lunanastere + '/' + annastere}">[Missing Data de naștere]</span></p>
<div th:if="${inscris}">
    <p>Ai un medic de familie: <span th:text="${numeMedic}"></span>.</p>
</div>
<div th:unless="${inscris}">
    <p>Nu ai un medic de familie.</p>
    <button onclick="showDialog()">Vezi medici disponibili</button>
</div>

<div id="dialog">
    <h3>Medici disponibili:</h3>
    <ul>
        <li th:each="medic : ${listaMedici}">
            <p>
                Nume: <span th:text="${medic.nume}"></span>,
                Prenume: <span th:text="${medic.prenume}"></span>,
                Medic de familie: <span th:text="${medic.numeUtilizator}"></span>
            </p>
        </li>
    </ul>
    <button onclick="closeDialog()">Închide</button>
</div>
<br>
<button onclick="location.href='/login'">Logout</button>

<script>
    function showDialog() {
        var dialog = document.getElementById('dialog');
        dialog.style.display = 'block';
    }

    function closeDialog() {
        var dialog = document.getElementById('dialog');
        dialog.style.display = 'none';
    }
</script>

</body>
</html>